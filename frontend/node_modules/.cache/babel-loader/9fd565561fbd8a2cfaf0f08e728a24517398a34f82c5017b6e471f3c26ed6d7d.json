{"ast":null,"code":"import React, { useEffect, useState, useMemo } from 'react';\nimport './productdetails.css';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Col } from 'antd';\nimport { toSlug } from '../../utils/toSlug';\nimport { useAppContext } from '../../context/AppContext';\nimport { PurchaseBenefits } from '../PurchaseBenefits/PurchaseBenefits';\nimport { SellerShop } from '../Seller/SellerShop';\nexport const ProductDetails = () => {\n  // const navigate = useNavigate();\n  // const { product, addToCart } = useAppContext();\n  // const { id } = useParams();\n\n  // const [thumbnail, setThumbnail] = useState(null);\n  // const [quantity, setQuantity] = useState(1);\n  // const [relatedProducts, setRelatedProducts] = useState([]);\n\n  // const currentProduct = useMemo(() => {\n  //   return product.find((item) => item.id === Number(id));\n  // }, [product, id]);\n\n  // useEffect(() => {\n  //   if (currentProduct) {\n  //     setThumbnail(currentProduct?.img?.[0] || null);\n  //   }\n  // }, [currentProduct]);\n\n  // if (!currentProduct) {\n  //   return <div>Đang tải sản phẩm...</div>;\n  // }\n\n  // const handleIncrease = () => {\n  //   if (quantity < currentProduct.stock_quantity) {\n  //     setQuantity(prev => prev + 1);\n  //   }\n  // };\n\n  // const handleDecrease = () => {\n  //   if (quantity > 1) {\n  //     setQuantity(prev => prev - 1);\n  //   }\n  // };\n\n  // const handleAddToCart = () => {\n  //   addToCart(currentProduct.id, quantity); \n  // };\n\n  // const handleBuyNow = () => {\n  //   addToCart(currentProduct.id, quantity); \n  //   navigate(\"/cart\");\n  // };\n\n  // return (\n  //   <div className=\"product__details\">\n  //     <p className=\"product__details-nav\">\n  //       <Link to=\"/\">Trang chủ</Link> /\n  //       <Link to={`/product/${toSlug(currentProduct.category)}`}>{currentProduct.category}</Link> /\n  //       <span className=\"highlight\">{currentProduct.name}</span>\n  //     </p>\n\n  //     <section className=\"product__details-container\">\n  //       <Col span={10}>\n  //         <div className=\"product__details-box\">\n  //           <div className=\"product__details-list\">\n  //             <div className=\"product__details-select\">\n  //               <img src={thumbnail} alt=\"Selected product\" />\n  //             </div>\n  //             <div className=\"product__details-img\">\n  //               {currentProduct.img.map((image, index) => (\n  //                 <div key={index} onClick={() => setThumbnail(image)}>\n  //                   <img src={image} alt={`Thumbnail ${index + 1}`} />\n  //                 </div>\n  //               ))}\n  //             </div>\n  //           </div>\n  //         </div>\n  //       </Col>\n\n  //       <Col span={14}>\n  //         <div className=\"product__details-info\">\n  //           <p>{currentProduct.name}</p>\n  //         </div>\n\n  //         <div className=\"product___details-review\">\n  //           <p>{currentProduct.rating}</p>\n  //           <div>\n  //             <i className=\"fa-solid fa-star\"></i>\n  //             <i className=\"fa-solid fa-star\"></i>\n  //             <i className=\"fa-solid fa-star\"></i>\n  //             <i className=\"fa-solid fa-star\"></i>\n  //             <i className=\"fa-solid fa-star\"></i>\n  //           </div>\n  //         </div>\n\n  //         <div className=\"product__details-benefit\">\n  //           <span>An tâm mua sắm cùng Shopee</span>\n  //           <PurchaseBenefits />\n  //         </div>\n\n  //         <div className=\"product__details-price\">\n  //           <p>đ{currentProduct.discounted_price}</p>\n  //           <p>đ{currentProduct.original_price}</p>\n  //           <p>{currentProduct.discount_percent}%</p>\n  //         </div>\n\n  //         <div className=\"product__details-count\">\n  //           <p>Số Lượng:</p>\n  //           <div className=\"quantity-control\">\n  //             <button onClick={handleDecrease}>-</button>\n  //             <input\n  //               type=\"text\"\n  //               value={quantity}\n  //               readOnly\n  //             />\n  //             <button onClick={handleIncrease}>+</button>\n  //           </div>\n  //           <p>{currentProduct.stock_quantity} <span>sản phẩm có sẵn</span></p>\n  //         </div>\n\n  //         <div className=\"product__details-add\">\n  //           <button className=\"product__details-cart\" onClick={handleAddToCart}>\n  //             <i className=\"fa-solid fa-cart-shopping\"></i>\n  //             Thêm vào giỏ hàng\n  //           </button>\n  //           <button className=\"product__details-voucher\" onClick={handleBuyNow}>\n  //             Mua với Voucher {currentProduct.discounted_price}\n  //           </button>\n  //         </div>\n  //       </Col>\n  //     </section>\n  //     <SellerShop/>\n  //   </div>\n  // );\n};\n_c = ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useParams","Link","useNavigate","Col","toSlug","useAppContext","PurchaseBenefits","SellerShop","ProductDetails"],"sources":["D:/Ecommerce/frontend/src/components/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\r\nimport './productdetails.css';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { Col } from 'antd';\r\nimport { toSlug } from '../../utils/toSlug';\r\nimport { useAppContext } from '../../context/AppContext';\r\nimport { PurchaseBenefits } from '../PurchaseBenefits/PurchaseBenefits';\r\nimport { SellerShop } from '../Seller/SellerShop';\r\n\r\nexport const ProductDetails = () => {\r\n  // const navigate = useNavigate();\r\n  // const { product, addToCart } = useAppContext();\r\n  // const { id } = useParams();\r\n\r\n  // const [thumbnail, setThumbnail] = useState(null);\r\n  // const [quantity, setQuantity] = useState(1);\r\n  // const [relatedProducts, setRelatedProducts] = useState([]);\r\n\r\n  // const currentProduct = useMemo(() => {\r\n  //   return product.find((item) => item.id === Number(id));\r\n  // }, [product, id]);\r\n\r\n\r\n  // useEffect(() => {\r\n  //   if (currentProduct) {\r\n  //     setThumbnail(currentProduct?.img?.[0] || null);\r\n  //   }\r\n  // }, [currentProduct]);\r\n\r\n  // if (!currentProduct) {\r\n  //   return <div>Đang tải sản phẩm...</div>;\r\n  // }\r\n\r\n  // const handleIncrease = () => {\r\n  //   if (quantity < currentProduct.stock_quantity) {\r\n  //     setQuantity(prev => prev + 1);\r\n  //   }\r\n  // };\r\n\r\n  // const handleDecrease = () => {\r\n  //   if (quantity > 1) {\r\n  //     setQuantity(prev => prev - 1);\r\n  //   }\r\n  // };\r\n\r\n  // const handleAddToCart = () => {\r\n  //   addToCart(currentProduct.id, quantity); \r\n  // };\r\n  \r\n\r\n  // const handleBuyNow = () => {\r\n  //   addToCart(currentProduct.id, quantity); \r\n  //   navigate(\"/cart\");\r\n  // };\r\n\r\n  // return (\r\n  //   <div className=\"product__details\">\r\n  //     <p className=\"product__details-nav\">\r\n  //       <Link to=\"/\">Trang chủ</Link> /\r\n  //       <Link to={`/product/${toSlug(currentProduct.category)}`}>{currentProduct.category}</Link> /\r\n  //       <span className=\"highlight\">{currentProduct.name}</span>\r\n  //     </p>\r\n\r\n  //     <section className=\"product__details-container\">\r\n  //       <Col span={10}>\r\n  //         <div className=\"product__details-box\">\r\n  //           <div className=\"product__details-list\">\r\n  //             <div className=\"product__details-select\">\r\n  //               <img src={thumbnail} alt=\"Selected product\" />\r\n  //             </div>\r\n  //             <div className=\"product__details-img\">\r\n  //               {currentProduct.img.map((image, index) => (\r\n  //                 <div key={index} onClick={() => setThumbnail(image)}>\r\n  //                   <img src={image} alt={`Thumbnail ${index + 1}`} />\r\n  //                 </div>\r\n  //               ))}\r\n  //             </div>\r\n  //           </div>\r\n  //         </div>\r\n  //       </Col>\r\n\r\n  //       <Col span={14}>\r\n  //         <div className=\"product__details-info\">\r\n  //           <p>{currentProduct.name}</p>\r\n  //         </div>\r\n\r\n  //         <div className=\"product___details-review\">\r\n  //           <p>{currentProduct.rating}</p>\r\n  //           <div>\r\n  //             <i className=\"fa-solid fa-star\"></i>\r\n  //             <i className=\"fa-solid fa-star\"></i>\r\n  //             <i className=\"fa-solid fa-star\"></i>\r\n  //             <i className=\"fa-solid fa-star\"></i>\r\n  //             <i className=\"fa-solid fa-star\"></i>\r\n  //           </div>\r\n  //         </div>\r\n\r\n  //         <div className=\"product__details-benefit\">\r\n  //           <span>An tâm mua sắm cùng Shopee</span>\r\n  //           <PurchaseBenefits />\r\n  //         </div>\r\n\r\n  //         <div className=\"product__details-price\">\r\n  //           <p>đ{currentProduct.discounted_price}</p>\r\n  //           <p>đ{currentProduct.original_price}</p>\r\n  //           <p>{currentProduct.discount_percent}%</p>\r\n  //         </div>\r\n\r\n  //         <div className=\"product__details-count\">\r\n  //           <p>Số Lượng:</p>\r\n  //           <div className=\"quantity-control\">\r\n  //             <button onClick={handleDecrease}>-</button>\r\n  //             <input\r\n  //               type=\"text\"\r\n  //               value={quantity}\r\n  //               readOnly\r\n  //             />\r\n  //             <button onClick={handleIncrease}>+</button>\r\n  //           </div>\r\n  //           <p>{currentProduct.stock_quantity} <span>sản phẩm có sẵn</span></p>\r\n  //         </div>\r\n\r\n  //         <div className=\"product__details-add\">\r\n  //           <button className=\"product__details-cart\" onClick={handleAddToCart}>\r\n  //             <i className=\"fa-solid fa-cart-shopping\"></i>\r\n  //             Thêm vào giỏ hàng\r\n  //           </button>\r\n  //           <button className=\"product__details-voucher\" onClick={handleBuyNow}>\r\n  //             Mua với Voucher {currentProduct.discounted_price}\r\n  //           </button>\r\n  //         </div>\r\n  //       </Col>\r\n  //     </section>\r\n  //     <SellerShop/>\r\n  //   </div>\r\n  // );\r\n};\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAC3D,OAAO,sBAAsB;AAC7B,SAASC,SAAS,EAAEC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAC/D,SAASC,GAAG,QAAQ,MAAM;AAC1B,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,gBAAgB,QAAQ,sCAAsC;AACvE,SAASC,UAAU,QAAQ,sBAAsB;AAEjD,OAAO,MAAMC,cAAc,GAAG,MAAM;EAClC;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAGA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAGA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAAA,CACD;AAAC,KA/HWA,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}